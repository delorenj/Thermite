version: "6.0.0"
project_name: "Thermite"
project_level: 4
current_sprint: 2
sprint_plan_path: "docs/sprint-plan-thermite-2026-01-04.md"

sprints:
  - sprint_number: 1
    start_date: "2026-01-06"
    end_date: "2026-01-17"
    capacity_points: 30
    committed_points: 21
    completed_points: 21
    status: "completed"
    goal: "Establish infrastructure foundation and database layer"
    stories:
      - story_id: "STORY-INF-001"
        title: "Database Schema and Migrations"
        points: 8
        status: "completed"
        assigned_to: "Claude"
        completed_date: "2026-01-05"
      - story_id: "STORY-INF-002"
        title: "Backend Service Scaffolding"
        points: 8
        status: "completed"
        assigned_to: "Claude"
        completed_date: "2026-01-05"
      - story_id: "STORY-INF-003"
        title: "CI/CD Pipeline"
        points: 5
        status: "completed"
        assigned_to: "Claude"
        completed_date: "2026-01-05"

  - sprint_number: 2
    start_date: "2026-01-20"
    end_date: "2026-01-31"
    capacity_points: 30
    committed_points: 29
    completed_points: 29
    status: "completed"
    goal: "Build map foundation and player movement mechanics"
    stories:
      - story_id: "STORY-001"
        title: "Grid-Based Map Data Structure"
        points: 5
        status: "completed"
        assigned_to: "Claude"
        completed_date: "2026-01-06"
        implementation_notes: |
          Grid struct with Vec<Vec<Tile>> storage, Tile enum (Wall, Floor, Destructible, Loot, Extraction),
          neighbors() and walkable_neighbors() methods, bounds checking, serialization support.
          38 unit tests passing.
      - story_id: "STORY-029"
        title: "Map Template System"
        points: 5
        status: "completed"
        assigned_to: "Claude"
        completed_date: "2026-01-06"
        implementation_notes: |
          MapTemplate struct with load_from_file(), Zone and LootTier system (Common, Uncommon, Rare),
          procedural destructible block placement with variation_percentage (20-30%), deterministic
          generation with optional seed. factory_01.json 20x20 template with 7 zones.
      - story_id: "STORY-032"
        title: "Map Pathfinding Validation"
        points: 3
        status: "completed"
        assigned_to: "Claude"
        completed_date: "2026-01-06"
        implementation_notes: |
          BFS pathfinding validation ensures all spawn points can reach all extraction points.
          Validates connectivity after procedural generation. Tests for blocked paths fail appropriately.
      - story_id: "STORY-033"
        title: "Map Loading and Caching"
        points: 3
        status: "completed"
        assigned_to: "Claude"
        completed_date: "2026-01-06"
        implementation_notes: |
          MapCache struct with RwLock<HashMap<String, MapTemplate>> for thread-safe caching.
          load_all_from_directory() scans /maps folder for JSON templates.
          clone_for_match() generates independent Grid instances for each match.
          Hot-reload support via reload() and reload_single() methods.
          SharedMapCache type alias for Arc<MapCache> for async contexts.
          13 unit tests for cache operations.
      - story_id: "STORY-002"
        title: "Player Movement System"
        points: 5
        status: "completed"
        assigned_to: "Claude"
        completed_date: "2026-01-07"
        implementation_notes: |
          Server-side: Player struct with position, health, movement validation, Direction enum.
          GameState with tick loop, bomb management, player state tracking.
          GameServer with WebSocket handling via tokio-tungstenite, 20Hz tick rate.
          Protocol module with ClientMessage/ServerMessage, MessagePack serialization.
          Client-side: Bevy 0.16 client with WASD/arrow key input handling.
          Client-side prediction with PendingInputs queue and reconciliation.
          Grid rendering with checkerboard pattern, player sprites.
          98 unit tests passing across server modules.
      - story_id: "STORY-008"
        title: "Game Client Rendering (Bevy)"
        points: 8
        status: "completed"
        assigned_to: "Claude"
        completed_date: "2026-01-09"
        implementation_notes: |
          Bevy 0.16 client with comprehensive visual features:
          - Enhanced grid rendering with checkerboard pattern and subtle highlights
          - Health bars above players with color coding (green/yellow/red) based on health percentage
          - Raid timer UI at top center displaying time in MM:SS format
          - Minimap overlay (150x150px) at bottom right with player indicators (green=local, red=remote)
          - Placeholder bomb sprites (red squares) with countdown timer text overlays
          - Placeholder explosion animations with fade-out and expansion effects
          - Resizable window with 800x600 default resolution
          - Cross-platform build configuration (Windows/macOS/Linux)
          - Release profile optimizations (opt-level=3, thin LTO, single codegen unit)
          - All visual systems use Bevy change detection for performance
          Note: Bomb and explosion systems are placeholder implementations pending STORY-003 through STORY-007.

  - sprint_number: 3
    start_date: "2026-02-03"
    end_date: "2026-02-14"
    capacity_points: 30
    committed_points: 29
    completed_points: 0
    status: "not_started"
    goal: "Implement core bomb combat system"
    stories:
      - story_id: "STORY-003"
        title: "Bomb Placement Mechanic"
        points: 5
        status: "not_started"
        assigned_to: null
      - story_id: "STORY-004"
        title: "Bomb Detonation and Blast Pattern"
        points: 5
        status: "not_started"
        assigned_to: null
      - story_id: "STORY-005"
        title: "Player Health and Damage System"
        points: 3
        status: "not_started"
        assigned_to: null
      - story_id: "STORY-006"
        title: "Death Handling and Item Loss"
        points: 5
        status: "not_started"
        assigned_to: null
      - story_id: "STORY-007"
        title: "Death Feedback and Replay"
        points: 3
        status: "not_started"
        assigned_to: null
      - story_id: "STORY-019"
        title: "Game Server Process Management"
        points: 8
        status: "not_started"
        assigned_to: null

  - sprint_number: 4
    start_date: "2026-02-17"
    end_date: "2026-02-28"
    capacity_points: 30
    committed_points: 28
    completed_points: 0
    status: "not_started"
    goal: "Enable end-to-end raid flow from queue to extraction"
    stories:
      - story_id: "STORY-014"
        title: "Raid Timer System"
        points: 3
        status: "not_started"
        assigned_to: null
      - story_id: "STORY-015"
        title: "Extraction Points System"
        points: 5
        status: "not_started"
        assigned_to: null
      - story_id: "STORY-016"
        title: "Successful Extraction Flow"
        points: 5
        status: "not_started"
        assigned_to: null
      - story_id: "STORY-017"
        title: "Matchmaking Queue System"
        points: 5
        status: "not_started"
        assigned_to: null
      - story_id: "STORY-018"
        title: "Match Lobby and Player Spawn"
        points: 5
        status: "not_started"
        assigned_to: null
      - story_id: "STORY-020"
        title: "WebSocket Communication Protocol"
        points: 5
        status: "not_started"
        assigned_to: null

  - sprint_number: 5
    start_date: "2026-03-03"
    end_date: "2026-03-14"
    capacity_points: 30
    committed_points: 25
    completed_points: 0
    status: "not_started"
    goal: "Enable pre-raid loadout customization and gear stats"
    stories:
      - story_id: "STORY-009"
        title: "Stash View and Inventory Management"
        points: 5
        status: "not_started"
        assigned_to: null
      - story_id: "STORY-010"
        title: "Pre-Raid Loadout Selection"
        points: 5
        status: "not_started"
        assigned_to: null
      - story_id: "STORY-011"
        title: "Gear Stats Modification System"
        points: 5
        status: "not_started"
        assigned_to: null
      - story_id: "STORY-012"
        title: "Visual Gear Identification"
        points: 5
        status: "not_started"
        assigned_to: null
      - story_id: "STORY-013"
        title: "Trader/Shop System"
        points: 5
        status: "not_started"
        assigned_to: null

  - sprint_number: 6
    start_date: "2026-03-17"
    end_date: "2026-03-28"
    capacity_points: 30
    committed_points: 29
    completed_points: 0
    status: "not_started"
    goal: "Implement loot spawns, collection, and economic loop"
    stories:
      - story_id: "STORY-021"
        title: "Loot Spawn System"
        points: 5
        status: "not_started"
        assigned_to: null
      - story_id: "STORY-022"
        title: "Loot Pickup Mechanic"
        points: 3
        status: "not_started"
        assigned_to: null
      - story_id: "STORY-023"
        title: "Currency System"
        points: 3
        status: "not_started"
        assigned_to: null
      - story_id: "STORY-024"
        title: "Loot Value and Sale System"
        points: 5
        status: "not_started"
        assigned_to: null
      - story_id: "STORY-026"
        title: "Stash Persistence and ACID Guarantees"
        points: 5
        status: "not_started"
        assigned_to: null
      - story_id: "STORY-027"
        title: "Match Results Processing"
        points: 8
        status: "not_started"
        assigned_to: null

  - sprint_number: 7
    start_date: "2026-03-31"
    end_date: "2026-04-11"
    capacity_points: 30
    committed_points: 23
    completed_points: 0
    status: "not_started"
    goal: "Finalize MVP with economic tuning and quality-of-life features"
    stories:
      - story_id: "STORY-025"
        title: "Economic Floor Calibration"
        points: 5
        status: "not_started"
        assigned_to: null
      - story_id: "STORY-028"
        title: "Starter Loadout and Debt System"
        points: 5
        status: "not_started"
        assigned_to: null
      - story_id: "STORY-030"
        title: "Map Zone System (Risk Tiers)"
        points: 3
        status: "not_started"
        assigned_to: null
      - story_id: "STORY-031"
        title: "Destructible Blocks System"
        points: 5
        status: "not_started"
        assigned_to: null
      - story_id: "STORY-034"
        title: "Minimap and Map UI"
        points: 5
        status: "not_started"
        assigned_to: null

velocity:
  sprint_1: 21
  sprint_2: 29
  sprint_3: null
  sprint_4: null
  sprint_5: null
  sprint_6: null
  sprint_7: null
  rolling_average: 25

team:
  size: 1
  sprint_length_weeks: 2
  capacity_per_sprint: 30
  experience_level: "senior"
  productive_hours_per_day: 6
